<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>会议室预定</title>
<link href="../styles/page/awesome/css/font-awesome.min.css" type="text/css" rel="stylesheet">
<link href="../styles/base.css" type="text/css" rel="stylesheet">
<link href="../styles/page/fullcalendar.css" rel="stylesheet" type="text/css">
<link href="../styles/page/page.css" type="text/css" rel="stylesheet">
<style type="text/css">
    .fc-button{width: 40px;height: 80px;background-size: 100%;margin-top: -23px;}
    #calendar{border:0px;padding:15px 55px 0px;}
    .absolute_div{top: 15px;right: 55px;}
    .fc th{ line-height: 20px;padding: 6px 0;}
    #data_timer td{width: 14.25%;height: 36px;font-size: 12px;}
    .fc-left h2{font-size: 18px;}
    .fc-toolbar{margin-bottom: 15px;}
    .colorblock{width: 16px;height: 16px;margin-left: 10px;}
    .order-nav li{border-bottom: 1px #F3F2F2 solid;padding: 20px 10px;position: relative;cursor: pointer;}
    .order-nav li.active,.order-nav li:hover{background: #f5f6f7;}
    .order-nav .active::before{content: "";display: inline-block;width: 13px;height: 20px; position: absolute;background:url(../styles/images/zhyq/right.png) no-repeat; top: 50%;margin-top: -7px;right: -13px;}
</style>
</head>

<body>
<div id="youi_page_header" class="youi-page-header clearfix" dataType="2" dataId="1"></div>
<!--***top end****************************************-->
<!--content-->
<div class="w1200 pr"><!--选择-->
	<img src="../styles/images/zhyq/bg.png" style="width:100%"/>
    <div class="cosbox pl30 pt10">
		<div class="clearfix mb10"><a href="business.html" class="cc f16 lh30"><i class="fa fa-angle-left fa-2x mr5 fl"></i>会议室预订</a></div>
        <div class="fl bgfff" style="width:330px;">
            <ul class="order-nav" style="border:none">
                <li class="clearfix">
                    <div class="fl"><img src="../styles/images/index/img.jpg" width="118" height="66"></div>
                    <div class="fl ml10 lh30">
                        <div class="f16 c3">创智中心2号楼</div>
                        <p class="cc f14">160元/小时</p>
                    </div>
                </li>
                <li class="clearfix">
                    <div class="fl"><img src="../styles/images/index/img.jpg" width="118" height="66"></div>
                    <div class="fl ml10 lh30">
                        <div class="f16 c3">创智中心4号楼</div>
                        <p class="cc f14">260元/小时</p>
                    </div>
                </li>
                <li class="clearfix active">
                    <div class="fl"><img src="../styles/images/index/img.jpg" width="118" height="66"></div>
                    <div class="fl ml10 lh30">
                        <div class="f16 c3">创智中心7号楼</div>
                        <p class="cc f12 f14">190元/小时</p>
                    </div>
                </li>
            </ul>
        </div>
        <div class="fl ml30 bgfff p15 w780">
        	<div class="borderm pb10">
            	<span class="cblue fw">创智中心二号楼321</span>
                <div class="od_tip">视频会议室</div>
                <div class="od_tip">有投影仪</div>
                <div class="od_tip">10-30人</div>
            </div>        	
            <div class="tc pr">
                <div id='calendar'>
                    <div class="absolute_div f12">
                        <div class="colorblock" style="background:#A2354A"></div><span class="vm">&nbsp;已预约（不可选）</span>
                        <div class="colorblock" style="background:#4AA2D4"></div><span class="vm">&nbsp;可预约</span>
                        <div class="colorblock" style="background:#C0C0C0"></div><span class="vm">&nbsp;已过期</span>
                    </div>
                    <div id="resoIds" style="display:none;"></div>
                    <span id="month" style="display:none;">3</span>
                    <table id="data_timer">
                         <tr>
                            <td>8:00-9:00</td>
                            <td>8:00-9:00</td>
                            <td>8:00-9:00</td>
                            <td>8:00-9:00</td>
                            <td>8:00-9:00</td>
                            <td>8:00-9:00</td>
                            <td>8:00-9:00</td>
                        </tr>
                        <tr>
                            <td>9:00-10:00</td>
                            <td>9:00-10:00</td>
                            <td>9:00-10:00</td>
                            <td>9:00-10:00</td>
                            <td>9:00-10:00</td>
                            <td>9:00-10:00</td>
                            <td>9:00-10:00</td>
                        </tr>
                        <tr>
                            <td>10:00-11:00</td>
                            <td>10:00-11:00</td>
                            <td>10:00-11:00</td>
                            <td>10:00-11:00</td>
                            <td>10:00-11:00</td>
                            <td>10:00-11:00</td>
                            <td>10:00-11:00</td>
                        </tr>
                        <tr>
                            <td>11:00-12:00</td>
                            <td>11:00-12:00</td>
                            <td>11:00-12:00</td>
                            <td>11:00-12:00</td>
                            <td>11:00-12:00</td>
                            <td>11:00-12:00</td>
                            <td>11:00-12:00</td>
                        </tr>
                        <tr>
                            <td>12:00-13:00</td>
                            <td>12:00-13:00</td>
                            <td>12:00-13:00</td>
                            <td>12:00-13:00</td>
                            <td>12:00-13:00</td>
                            <td>12:00-13:00</td>
                            <td>12:00-13:00</td>
                        </tr>
                        <tr>
                            <td>13:00-14:00</td>
                            <td>13:00-14:00</td>
                            <td>13:00-14:00</td>
                            <td>13:00-14:00</td>
                            <td>13:00-14:00</td>
                            <td>13:00-14:00</td>
                            <td>13:00-14:00</td>
                        </tr>
                        <tr>
                            <td>14:00-15:00</td>
                            <td>14:00-15:00</td>
                            <td>14:00-15:00</td>
                            <td>14:00-15:00</td>
                            <td>14:00-15:00</td>
                            <td>14:00-15:00</td>
                            <td>14:00-15:00</td>
                        </tr>
                        <tr>
                            <td>15:00-16:00</td>
                            <td>15:00-16:00</td>
                            <td>15:00-16:00</td>
                            <td>15:00-16:00</td>
                            <td>15:00-16:00</td>
                            <td>15:00-16:00</td>
                            <td>15:00-16:00</td>
                        </tr>
                        <tr>
                            <td>16:00-17:00</td>
                            <td>16:00-17:00</td>
                            <td>16:00-17:00</td>
                            <td>16:00-17:00</td>
                            <td>16:00-17:00</td>
                            <td>16:00-17:00</td>
                            <td>16:00-17:00</td>
                        </tr>
                        <tr>
                            <td>17:00-18:00</td>
                            <td>17:00-18:00</td>
                            <td>17:00-18:00</td>
                          
                            <td>17:00-18:00</td>
                            <td>17:00-18:00</td>
                            <td>17:00-18:00</td>
                            <td>17:00-18:00</td>
                        </tr>
                       
                    </table>
                    <div class="tc mt20" id="commit">
                        <div class="btn-ck f12" id="online" style="padding:5px 20px;">在线预约</div>
                        <!-- <div class="btn-zz">立即支付</div> -->
                        <div class="cc mt10 f12">*请注意，只能选择连续的时间段</div>
                    </div>
                </div> 
            </div>
        </div>
    </div>
</div><!--content***************  end-->  
    
<!--***bottom start****************************************-->
	<div id="youi_page_footer" class="youi-page-footer"></div>
<!--***bottom end****************************************-->

<!--******************  code end  ****************************-->
<script type="text/javascript" src="../scripts/lib/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="../scripts/lib/jquery-ui.min.js"></script>
<script type="text/javascript" src="../scripts/lib/bootstrap.min.js"></script>
<script type="text/javascript" src="../scripts/lib/giui.min.js"></script>
<script type="text/javascript" src="../scripts/page/pagewrapper.js"></script>
<script src='../scripts/page/date_week/moment.min.js'></script>
<script src='../scripts/page/date_week/fullcalendar.min.js'></script>
<script src='../scripts/page/date_week/lang-all.js'></script>
<script type="text/javascript" src="../scripts/page/url.js"></script>
<script>

    $(document).ready(function() {
        var htmls=$("#data_timer").html();
        var currentLangCode = 'zh-cn';

        function renderCalendar() {
            $('#calendar').fullCalendar({
                header: {
                    left: 'title',
                    center: 'prev,next',
                    right: ''
                },
                defaultView: 'agendaWeek',
                lang: currentLangCode,
                agenda: null, 
            });
        }
        renderCalendar();
        /**/
        var today,cursor=0;
        today=new Date().getDay();
        nowday();
        $("#data_timer").on("click","td",function(){
            if(this.className=="pasttd"){return ;}
            $(this).toggleClass("clicktd");
            var active=$(this).index();
            var time=$(this).html();
            var dates=$(".fc-day-header").eq(active).attr("data-date");
            alert(dates+"  "+time);
        });
        
        $(".fc-next-button").on("click",this,function(){
            cursor++;
            var flag=judgment();
            console.log(cursor);
            if(cursor==0){nowday();return ;}
            if(flag){
                $("#data_timer").html(htmls);
            }
        });
        $(".fc-prev-button").on("click",this,function(){
            cursor--;
            var flag=judgment();
            console.log(cursor);
            if(cursor==0){nowday();return ;}
            if(!flag){
                $("#data_timer td").addClass("pasttd");
            }
            else{
                $("#data_timer").html(htmls);
            }
        });
        function nowday(){
            if(today==0){today=7};
            $("#data_timer").html(htmls);
            $("#data_timer tr").each(function(index, element) {
                $(element).children("td").eq(today).prevAll("td").addClass("pasttd");
            });
        };
        function judgment(){
            var data_date=$(".fc-mon").attr("data-date");
            var date=new Date(data_date);
            var tt=Date.now();
            if(date>tt){return 1;}
            else{return 0;}
        }
        $(".order-nav li").bind("click",function(){
            $(this).addClass("active").siblings().removeClass("active");
        });
    });

</script>
</body>
</html>
